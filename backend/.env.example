# Database
DATABASE_URL=postgresql://user:password@localhost:5432/ick

# JWT Secrets (BOTH required — server exits on startup if either is missing)
# Generate secure random strings: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this
REFRESH_SECRET=your-separate-refresh-secret-change-this

# Server
PORT=3001

# Frontend URL (for CORS — required in production)
FRONTEND_URL=http://localhost:5173

# Admin bootstrap secret (set before first deploy, used once to promote first admin)
# ADMIN_BOOTSTRAP_SECRET=your-secret-here

# Open Food Facts API (no key needed — public API)

# USDA FoodData Central (FREE — get key at https://fdc.nal.usda.gov/api-key-signup/)
# DEMO_KEY works but is rate-limited to ~30 req/hr. Production key = 1,000 req/hr.
USDA_API_KEY=DEMO_KEY

# FatSecret Platform API (FREE Basic tier — 5,000 calls/day)
# Premier Free tier adds barcode scanning + images — email their team to request
# Sign up at https://platform.fatsecret.com/
# Without this, falls back to USDA (slower, less image data)
FATSECRET_CLIENT_ID=
FATSECRET_CLIENT_SECRET=

# OpenAI API Key (REQUIRED for receipt scanning)
# Get key at https://platform.openai.com/api-keys
# Without this, POST /api/receipts/scan returns 503
OPENAI_API_KEY=

# Resend (transactional email — FREE 3,000/month)
# Sign up at resend.com, verify your domain, get API key
# Without this, no emails sent (registration still works)
RESEND_API_KEY=
EMAIL_FROM=Ick <hello@ick.app>

# Stripe (subscriptions)
# Get keys at dashboard.stripe.com → Developers → API keys
# Create products/prices in Stripe dashboard, then paste price IDs below
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_MONTHLY_PRICE_ID=price_...
# STRIPE_YEARLY_PRICE_ID=price_...

# Premium gate
# Set to true AFTER Stripe is configured and you're ready to charge users
# Default false = all premium features free (good for early growth / beta)
# PREMIUM_ENABLED=false

# Web Push / VAPID (PWA notifications)
# Generate once: node -e "const wp=require('web-push'); console.log(JSON.stringify(wp.generateVAPIDKeys()))"
# VAPID_PUBLIC_KEY=
# VAPID_PRIVATE_KEY=
# VAPID_EMAIL=mailto:hello@ick.app

# Firebase Admin (native push for iOS/Android)
# Create Firebase project → Service Accounts → Generate key → base64 encode:
#   base64 -i serviceAccountKey.json | tr -d '\n'
# FIREBASE_SERVICE_ACCOUNT_BASE64=
